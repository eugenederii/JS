<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      class TDate {
        constructor(day, month, year) {
          this.day = day;
          this.month = month;
          this.year = year;
        }

        get day() {
          return this._day;
        }
        set day(newDay) {
          if (newDay < 1 || newDay > this.getDaysInMonth()) {
            throw new Error("Invalid day");
          }
          this._day = newDay;
        }

        get month() {
          return this._month;
        }
        set month(newMonth) {
          if (newMonth < 1 || newMonth > 12) {
            throw new Error("Invalid month");
          }
          this._month = newMonth;
        }

        get year() {
          return this._year;
        }
        set year(newYear) {
          if (newYear < 1) {
            throw new Error("Invalid year");
          }
          this._year = newYear;
        }

        toString() {
          const formattedDay = String(this.day).padStart(2, "0");
          const formattedMonth = String(this.month).padStart(2, "0");
          return `${formattedDay}.${formattedMonth}.${this.year}`;
        }

        getDaysInMonth() {
          const daysInMonth = [31, this.isLeapYear() ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
          return daysInMonth[this.month - 1];
        }

        isLeapYear() {
          return (this.year % 4 === 0 && this.year % 100 !== 0) || this.year % 400 === 0;
        }

        addDays(days) {
          const daysInMonth = this.getDaysInMonth();
          const totalDays = this.day + days;
          if (totalDays <= daysInMonth) {
            this.day = totalDays;
          } else {
            let remainingDays = totalDays % daysInMonth;
            let remainingMonths = Math.floor(totalDays / daysInMonth);
            this.addMonths(remainingMonths);
            this.day = remainingDays;
          }
        }

        addMonths(months) {
          let totalMonths = this.month + months;
          if (totalMonths <= 12) {
            this.month = totalMonths;
          } else {
            let remainingMonths = totalMonths % 12;
            let remainingYears = Math.floor(totalMonths / 12);
            this.addYears(remainingYears);
            this.month = remainingMonths;
          }
        }

        addYears(years) {
          this.year += years;
        }
      }
    </script>
  </body>
</html>
